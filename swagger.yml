# SPDX-FileCopyrightText: Copyright 2025 SAP SE or an SAP affiliate company
#
# SPDX-License-Identifier: Apache-2.0

consumes:
- application/json
info:
  description: Platform agnostic GSLB frontend
  title: Andromeda
  version: 1.1.1
produces:
- application/json
swagger: "2.0"
basePath: /v1

parameters:
  marker:
    name: marker
    in: query
    type: string
    format: uuid
    description: Pagination ID of the last item in the previous list.
  limit:
    name: limit
    in: query
    type: integer
    description: Sets the page size.
  sort:
    name: sort
    in: query
    type: string
    description: Comma-separated list of sort keys, optinally prefix with - to reverse sort order.
  page_reverse:
    name: page_reverse
    in: query
    type: boolean
    description: Sets the page direction.

paths:
  /domains:
    get:
      tags:
        - Domains
      summary: List domains
      x-policy: andromeda:domain:get_all
      parameters:
        - $ref: '#/parameters/marker'
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/sort'
        - $ref: '#/parameters/page_reverse'
        - in: query
          name: domain_id
          required: false
          type: string
          format: uuid
          description: Filter domains by domain ID
          x-nullable: true
      responses:
        200:
          description: A JSON array of domains
          schema:
            type: object
            properties:
              domains:
                type: array
                items:
                  $ref: '#/definitions/domain'
              links:
                x-omitempty: true
                type: array
                items:
                  $ref: '#/definitions/link'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    post:
      tags:
        - Domains
      summary: Create new domain
      x-policy: andromeda:domain:post
      parameters:
        - in: body
          name: domain
          required: true
          schema:
            type: object
            required:
              - domain
            properties:
              domain:
                $ref: '#/definitions/domain'
      responses:
        201:
          description: Created domain.
          schema:
            type: object
            properties:
              domain:
                $ref: '#/definitions/domain'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /domains/{domain_id}:
    parameters:
      - in: path
        name: domain_id
        required: true
        type: string
        format: uuid
        description: The UUID of the domain
    get:
      tags:
        - Domains
      summary: Show domain detail
      x-policy: andromeda:domain:get_one
      responses:
        200:
          description: Shows the details of a specific domain.
          schema:
            type: object
            properties:
              domain:
                $ref: '#/definitions/domain'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    put:
      tags:
        - Domains
      summary: Update a domain
      x-policy: andromeda:domain:put
      parameters:
        - in: body
          name: domain
          required: true
          schema:
            type: object
            required:
              - domain
            properties:
              domain:
                $ref: '#/definitions/domain'
      responses:
        202:
          description: Updated domain.
          schema:
            type: object
            properties:
              domain:
                $ref: '#/definitions/domain'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        409:
          description: Conflict
          schema:
              $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    delete:
      tags:
        - Domains
      summary: Delete a domain
      x-policy: andromeda:domain:delete
      responses:
        204:
          description: Resource successfully deleted.
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /pools:
    get:
      tags:
        - Pools
      summary: List pools
      x-policy: andromeda:pool:get_all
      parameters:
        - $ref: '#/parameters/marker'
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/sort'
        - $ref: '#/parameters/page_reverse'
        - in: query
          name: domain_id
          required: false
          type: string
          format: uuid
          description: Filter pools by domain ID
          x-nullable: true
        - in: query
          name: pool_id
          required: false
          type: string
          format: uuid
          description: Filter pools by pool ID
          x-nullable: true
      responses:
        200:
          description: A JSON array of pools
          schema:
            type: object
            properties:
              pools:
                type: array
                items:
                  $ref: '#/definitions/pool'
              links:
                x-omitempty: true
                type: array
                items:
                  $ref: '#/definitions/link'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    post:
      tags:
        - Pools
      summary: Create new pool
      x-policy: andromeda:pool:post
      parameters:
        - in: body
          name: pool
          required: true
          schema:
            type: object
            required:
              - pool
            properties:
              pool:
                $ref: '#/definitions/pool'
      responses:
        201:
          description: Created pool.
          schema:
            type: object
            properties:
              pool:
                $ref: '#/definitions/pool'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /pools/{pool_id}:
    parameters:
      - in: path
        name: pool_id
        required: true
        type: string
        format: uuid
        description: The UUID of the pool
    get:
      tags:
        - Pools
      summary: Show pool detail
      x-policy: andromeda:pool:get_one
      responses:
        200:
          description: Shows the details of a specific pool.
          schema:
            type: object
            properties:
              pool:
                $ref: '#/definitions/pool'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    put:
      tags:
        - Pools
      summary: Update a pool
      x-policy: andromeda:pool:put
      parameters:
        - in: body
          name: pool
          required: true
          schema:
            type: object
            required:
              - pool
            properties:
              pool:
                $ref: '#/definitions/pool'
      responses:
        202:
          description: Updated pool.
          schema:
            type: object
            properties:
              pool:
                $ref: '#/definitions/pool'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    delete:
      tags:
        - Pools
      summary: Delete a pool
      x-policy: andromeda:pool:delete
      responses:
        204:
          description: Resource successfully deleted.
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /datacenters:
    get:
      tags:
        - Datacenters
      summary: List datacenters
      x-policy: andromeda:datacenter:get_all
      parameters:
        - $ref: '#/parameters/marker'
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/sort'
        - $ref: '#/parameters/page_reverse'
        - in: query
          name: datacenter_id
          required: false
          type: string
          format: uuid
          description: Filter datacenters by datacenter ID
          x-nullable: true
      responses:
        200:
          description: A JSON array of datacenters
          schema:
            type: object
            properties:
              datacenters:
                type: array
                items:
                  $ref: '#/definitions/datacenter'
              links:
                x-omitempty: true
                type: array
                items:
                  $ref: '#/definitions/link'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    post:
      tags:
        - Datacenters
      summary: Create new datacenter
      x-policy: andromeda:datacenter:post
      parameters:
        - in: body
          name: datacenter
          required: true
          schema:
            type: object
            required:
              - datacenter
            properties:
              datacenter:
                $ref: '#/definitions/datacenter'
      responses:
        201:
          description: Created datacenter.
          schema:
            type: object
            properties:
              datacenter:
                $ref: '#/definitions/datacenter'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /datacenters/{datacenter_id}:
    parameters:
      - in: path
        name: datacenter_id
        required: true
        type: string
        format: uuid
        description: The UUID of the datacenter
    get:
      tags:
        - Datacenters
      summary: Show datacenter detail
      x-policy: andromeda:datacenter:get_one
      responses:
        200:
          description: Shows the details of a specific datacenter.
          schema:
            type: object
            properties:
              datacenter:
                $ref: '#/definitions/datacenter'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    put:
      tags:
        - Datacenters
      summary: Update a datacenter
      x-policy: andromeda:datacenter:put
      parameters:
        - in: body
          name: datacenter
          required: true
          schema:
            type: object
            required:
              - datacenter
            properties:
              datacenter:
                $ref: '#/definitions/datacenter'
      responses:
        202:
          description: Updated datacenter.
          schema:
            type: object
            properties:
              datacenter:
                $ref: '#/definitions/datacenter'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    delete:
      tags:
        - Datacenters
      summary: Delete a datacenter
      x-policy: andromeda:datacenter:delete
      responses:
        204:
          description: Resource successfully deleted.
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /members:
    get:
      tags:
        - Members
      summary: List members
      x-policy: andromeda:member:get_all
      parameters:
        - $ref: '#/parameters/marker'
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/sort'
        - $ref: '#/parameters/page_reverse'
        - in: query
          name: pool_id
          required: false
          type: string
          format: uuid
          description: Pool ID of the members to fetch
          x-nullable: true
      responses:
        200:
          description: A JSON array of members
          schema:
            type: object
            properties:
              members:
                type: array
                items:
                  $ref: '#/definitions/member'
              links:
                x-omitempty: true
                type: array
                items:
                  $ref: '#/definitions/link'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    post:
      tags:
        - Members
      summary: Create new member
      x-policy: andromeda:member:post
      parameters:
        - in: body
          name: member
          required: true
          schema:
            type: object
            required:
              - member
            properties:
              member:
                $ref: '#/definitions/member'
      responses:
        201:
          description: Created member.
          schema:
            type: object
            properties:
              member:
                $ref: '#/definitions/member'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /members/{member_id}:
    parameters:
      - in: path
        name: member_id
        required: true
        type: string
        format: uuid
        description: The UUID of the member
    get:
      tags:
        - Members
      summary: Show member detail
      x-policy: andromeda:member:get_one
      responses:
        200:
          description: Shows the details of a specific member.
          schema:
            type: object
            properties:
              member:
                $ref: '#/definitions/member'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    put:
      tags:
        - Members
      summary: Update a member
      x-policy: andromeda:member:put
      parameters:
        - in: body
          name: member
          required: true
          schema:
            type: object
            required:
              - member
            properties:
              member:
                $ref: '#/definitions/member'
      responses:
        202:
          description: Updated member.
          schema:
            type: object
            properties:
              member:
                $ref: '#/definitions/member'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    delete:
      tags:
        - Members
      summary: Delete a member
      x-policy: andromeda:member:delete
      responses:
        204:
          description: Resource successfully deleted.
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /monitors:
    get:
      tags:
        - Monitors
      summary: List monitors
      x-policy: andromeda:monitor:get_all
      parameters:
        - $ref: '#/parameters/marker'
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/sort'
        - $ref: '#/parameters/page_reverse'
        - in: query
          name: pool_id
          required: false
          type: string
          format: uuid
          description: Pool ID of the monitors to fetch
          x-nullable: true
      responses:
        200:
          description: A JSON array of monitors
          schema:
            type: object
            properties:
              monitors:
                type: array
                items:
                  $ref: '#/definitions/monitor'
              links:
                x-omitempty: true
                type: array
                items:
                  $ref: '#/definitions/link'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    post:
      tags:
        - Monitors
      summary: Create new monitor
      x-policy: andromeda:monitor:post
      parameters:
        - in: body
          name: monitor
          required: true
          schema:
            type: object
            required:
              - monitor
            properties:
              monitor:
                $ref: '#/definitions/monitor'
      responses:
        201:
          description: Created monitor.
          schema:
            type: object
            properties:
              monitor:
                $ref: '#/definitions/monitor'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /monitors/{monitor_id}:
    parameters:
      - in: path
        name: monitor_id
        required: true
        type: string
        format: uuid
        description: The UUID of the monitor
    get:
      tags:
        - Monitors
      summary: Show monitor detail
      x-policy: andromeda:monitor:get_one
      responses:
        200:
          description: Shows the details of a specific monitor.
          schema:
            type: object
            properties:
              monitor:
                $ref: '#/definitions/monitor'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    put:
      tags:
        - Monitors
      summary: Update a monitor
      x-policy: andromeda:monitor:put
      parameters:
        - in: body
          name: monitor
          required: true
          schema:
            type: object
            required:
              - monitor
            properties:
              monitor:
                $ref: '#/definitions/monitor'
      responses:
        202:
          description: Updated monitor.
          schema:
            type: object
            properties:
              monitor:
                $ref: '#/definitions/monitor'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    delete:
      tags:
        - Monitors
      summary: Delete a monitor
      x-policy: andromeda:monitor:delete
      responses:
        204:
          description: Resource successfully deleted.
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /geomaps:
    get:
      tags:
        - Geographic maps
      summary: List geographic maps
      x-policy: andromeda:geomap:get_all
      parameters:
        - $ref: '#/parameters/marker'
        - $ref: '#/parameters/limit'
        - $ref: '#/parameters/sort'
        - $ref: '#/parameters/page_reverse'
        - in: query
          name: datacenter_id
          required: false
          type: string
          format: uuid
          description: Filter geographic map by datacenter ID
          x-nullable: true
        - in: query
          name: default_datacenter_id
          required: false
          type: string
          format: uuid
          description: Filter geographic map by default datacenter ID
          x-nullable: true
      responses:
        200:
          description: A JSON array of geographic maps
          schema:
            type: object
            properties:
              geomaps:
                type: array
                items:
                  $ref: '#/definitions/geomap'
              links:
                x-omitempty: true
                type: array
                items:
                  $ref: '#/definitions/link'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    post:
      tags:
        - Geographic maps
      summary: Create new geographic map
      x-policy: andromeda:geomap:post
      parameters:
        - in: body
          name: geomap
          required: true
          schema:
            type: object
            required:
              - geomap
            properties:
              geomap:
                $ref: '#/definitions/geomap'
      responses:
        201:
          description: Created geomap.
          schema:
            type: object
            properties:
              geomap:
                $ref: '#/definitions/geomap'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /geomaps/{geomap_id}:
    parameters:
      - in: path
        name: geomap_id
        required: true
        type: string
        format: uuid
        description: The UUID of the geomap
    get:
      tags:
        - Geographic maps
      summary: Show geographic map detail
      x-policy: andromeda:geomap:get_one
      responses:
        200:
          description: Shows the details of a specific geomap.
          schema:
            type: object
            properties:
              geomap:
                $ref: '#/definitions/geomap'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    put:
      tags:
        - Geographic maps
      summary: Update a geographic map
      x-policy: andromeda:geomap:put
      parameters:
        - in: body
          name: geomap
          required: true
          schema:
            type: object
            required:
              - geomap
            properties:
              geomap:
                $ref: '#/definitions/geomap'
      responses:
        202:
          description: Updated geomap.
          schema:
            type: object
            properties:
              geomap:
                $ref: '#/definitions/geomap'
        400:
          description: Bad request
          schema:
            $ref: '#/definitions/error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

    delete:
      tags:
        - Geographic maps
      summary: Delete a geographic map
      x-policy: andromeda:geomap:delete
      responses:
        204:
          description: Resource successfully deleted.
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /services:
    get:
      tags:
        - Administrative
      summary: List Services
      x-policy: andromeda:service:get_all
      responses:
        200:
          description: A JSON array of services
          schema:
            type: object
            properties:
              services:
                type: array
                items:
                  $ref: '#/definitions/service'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'
  /sync:
    post:
      tags:
        - Administrative
      summary: Enqueue a full sync
      x-policy: andromeda:sync:post
      responses:
        202:
          description: Full sync has been enqueued.
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'
      parameters:
        - in: body
          name: domains
          required: true
          schema:
            required:
              - domains
            type: object
            properties:
              domains:
                type: array
                items:
                  type: string
                  format: uuid
                  description: The ID of a domain to be synced.

  /quotas:
    parameters:
      - in: query
        name: project_id
        type: string
        description: The ID of the project to query.
        minLength: 32
        maxLength: 32
    get:
      tags:
        - Administrative
      summary: List Quotas
      x-policy: andromeda:quota:get_all
      responses:
        200:
          description: A JSON array of quotas
          schema:
            type: object
            properties:
              quotas:
                type: array
                items:
                  allOf:
                    - $ref: '#/definitions/quota'
                    - properties:
                        project_id:
                          type: string
                          description: The ID of the project owning this resource.
                          example: fa84c217f361441986a220edf9b1e337
                          minLength: 32
                          maxLength: 32
                          x-nullable: true
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'
  /quotas/defaults:
    get:
      tags:
        - Administrative
      summary: Show Quota Defaults
      x-policy: andromeda:quota:get_one
      responses:
        200:
          description: Show the quota defaults configured for new projects.
          schema:
            type: object
            properties:
              quota:
                $ref: '#/definitions/quota'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'
  /quotas/{project_id}:
    parameters:
      - in: path
        name: project_id
        required: true
        type: string
        description: The ID of the project to query.
    get:
      tags:
        - Administrative
      summary: Show Quota detail
      x-policy: andromeda:quota:get_one
      responses:
        200:
          description: Shows the details of a specific monitor.
          schema:
            type: object
            properties:
              quota:
                allOf:
                  - $ref: '#/definitions/quota'
                  - $ref: '#/definitions/quota_usage'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'
    put:
      tags:
        - Administrative
      summary: Update Quota
      x-policy: andromeda:quota:put
      parameters:
        - in: body
          name: quota
          required: true
          schema:
            type: object
            required:
              - quota
            properties:
              quota:
                $ref: '#/definitions/quota'
      responses:
        202:
          description: Updated quota for a project.
          schema:
            type: object
            properties:
              quota:
                $ref: '#/definitions/quota'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'
    delete:
      tags:
        - Administrative
      summary: Reset all Quota of a project
      x-policy: andromeda:quota:delete
      responses:
        204:
          description: Resource successfully reseted.
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/error'
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'

  /cidr-blocks:
    get:
      tags:
        - Administrative
      summary: List CIDR blocks of a service
      x-policy: andromeda:cidr-blocks:get
      responses:
        200:
          description: A JSON array of CIDR blocks
          schema:
            type: object
        default:
          description: Unexpected Error
          schema:
            $ref: '#/definitions/error'
      parameters:
        - in: query
          name: provider
          required: false
          type: string
          description: The provider to filter the CIDR blocks by.
          enum:
            - akamai
            - f5
          x-nullable: true

definitions:
  domain:
    type: object
    description: A representation of a domain
    properties:
      id:
        type: string
        format: uuid
        description: The id of the resource.
        readOnly: true
      name:
        type: string
        description: Human-readable name of the resource.
        x-nullable: true
      admin_state_up:
        type: boolean
        description: The administrative state of the resource, which is up (true) or down (false). Default is true.
        default: true
      status:
        type: string
        enum:
          - ONLINE
          - DOWN
        readOnly: true
      created_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-05-11T17:21:34
      updated_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-09-09T14:52:15
      provisioning_status:
        type: string
        enum:
          - PENDING_CREATE
          - PENDING_UPDATE
          - PENDING_DELETE
          - ACTIVE
          - ERROR
        readOnly: true
      project_id:
        type: string
        description: The ID of the project owning this resource.
        example: fa84c217f361441986a220edf9b1e337
        minLength: 32
        maxLength: 32
        x-nullable: true
      fqdn:
        type: string
        format: hostname
        description: Desired Fully-Qualified Host Name.
        example: example.org
        maxLength: 512
        x-nullable: true
      cname_target:
        type: string
        format: hostname
        readOnly: true
        description: If not empty, the backend created a CNAME target to be used for the FQDN.
        example: example.org.production.gtm.com
        x-nullable: true
      mode:
        type: string
        description: Load balancing method to use for the references pools.
        enum:
          - WEIGHTED
          - ROUND_ROBIN
          - GEOGRAPHIC
          - AVAILABILITY
        default: ROUND_ROBIN
      record_type:
        type: string
        description: DNS Record type to use.
        enum:
          - A
          - AAAA
          - CNAME
          - MX
        default: A
      aliases:
        type: array
        items:
          format: string
          type: string
          example: alias.example.com
      pools:
        type: array
        items:
          type: string
          format: uuid
          description: Pool that this domain uses for load balancing.
      provider:
        type: string
        description: Supported provider drivers
        example: akamai
        enum:
          - akamai
          - f5
        x-nullable: true

  pool:
    type: object
    properties:
      id:
        type: string
        format: uuid
        description: The id of the resource.
        readOnly: true
      name:
        type: string
        description: Human-readable name of the resource.
        maxLength: 255
        x-nullable: true
      admin_state_up:
        type: boolean
        description: The administrative state of the resource, which is up (true) or down (false). Default is true.
        default: true
      status:
        type: string
        enum:
          - ONLINE
          - DOWN
        readOnly: true
      created_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-05-11 17:21:34
      updated_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-09-09 14:52:15
      provisioning_status:
        type: string
        enum:
          - PENDING_CREATE
          - PENDING_UPDATE
          - PENDING_DELETE
          - ACTIVE
          - ERROR
        readOnly: true
      project_id:
        type: string
        description: The ID of the project owning this resource.
        example: fa84c217f361441986a220edf9b1e337
        minLength: 32
        maxLength: 32
        x-nullable: true
      members:
        type: array
        readOnly: true
        description: Array of member ids that this pool uses for load balancing.
        items:
          format: uuid
          type: string
      monitors:
        type: array
        readOnly: true
        description: Array of monitor ids that this pool uses health checks.
        items:
          format: uuid
          type: string
      domains:
        type: array
        description: Array of domains assigned to this pool
        items:
          type: string
          format: uuid
          description: Domain ID

  datacenter:
    type: object
    properties:
      id:
        type: string
        format: uuid
        description: The id of the resource.
        readOnly: true
      name:
        type: string
        description: Human-readable name of the resource.
        maxLength: 255
        x-nullable: true
      admin_state_up:
        type: boolean
        description: The administrative state of the resource, which is up (true) or down (false). Default is true.
        default: true
        x-nullable: true
      created_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-05-11T17:21:34
      updated_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-09-09T14:52:15
      provisioning_status:
        type: string
        enum:
          - PENDING_CREATE
          - PENDING_UPDATE
          - PENDING_DELETE
          - ACTIVE
          - ERROR
        readOnly: true
      project_id:
        type: string
        description: The ID of the project owning this resource.
        example: fa84c217f361441986a220edf9b1e337
        minLength: 32
        maxLength: 32
        x-nullable: true
      scope:
        type: string
        description: Visibility of datacenter between different projects
        enum:
          - private
          - shared
        default: private
        x-nullable: true
      provider:
        description: Provider driver for the backend solution
        example: akamai
        type: string
        enum:
          - akamai
          - f5
      continent:
        type: string
        maxLength: 255
        example: EU
        x-omitempty: false
        x-nullable: true
        default: ""
      country:
        type: string
        maxLength: 2
        example: DE
        x-omitempty: false
        x-nullable: true
        default: ""
      city:
        type: string
        maxLength: 255
        example: Berlin
        x-omitempty: false
        x-nullable: true
        default: ""
      state_or_province:
        type: string
        maxLength: 255
        example: Berlin
        x-omitempty: false
        x-nullable: true
        default: ""
      latitude:
        type: number
        format: double
        example: 52.526055
        x-omitempty: false
        x-nullable: true
        default: 52.52
      longitude:
        type: number
        format: double
        example: 13.403454
        x-omitempty: false
        x-nullable: true
        default: 13.40
      meta:
        type: integer
        readOnly: true

  geomap:
    type: object
    required:
      - default_datacenter
    properties:
      id:
        type: string
        format: uuid
        description: The id of the resource.
        readOnly: true
      name:
        type: string
        description: Human-readable name of the resource.
        maxLength: 255
        x-nullable: true
      default_datacenter:
        type: string
        format: uuid
        description: Datacenter ID
      assignments:
        type: array
        description: Country to datacenter assignments.
        items:
          type: object
          description: Assignment.
          properties:
            country:
              type: string
              description: ISO 3166 2-Letter Country code.
              maxLength: 2
              minLength: 2
            datacenter:
              type: string
              format: uuid
              description: Datacenter ID
      created_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-05-11T17:21:34
      updated_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-09-09T14:52:15
      provisioning_status:
        type: string
        enum:
          - PENDING_CREATE
          - PENDING_UPDATE
          - PENDING_DELETE
          - ACTIVE
          - ERROR
        readOnly: true
      project_id:
        type: string
        description: The ID of the project owning this resource.
        example: fa84c217f361441986a220edf9b1e337
        minLength: 32
        maxLength: 32
        x-nullable: true
      scope:
        type: string
        description: Visibility of datacenter between different projects
        enum:
          - private
          - shared
        default: private
        x-nullable: true
      provider:
        description: Provider driver for the backend solution
        example: akamai
        type: string
        enum:
          - akamai
          - f5

  member:
    type: object
    properties:
      id:
        type: string
        format: uuid
        description: The id of the resource.
        readOnly: true
      name:
        type: string
        description: Human-readable name of the resource.
        maxLength: 255
        x-nullable: true
      admin_state_up:
        type: boolean
        description: The administrative state of the resource, which is up (true) or down (false). Default is true.
        default: true
        x-nullable: true
      created_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-05-11T17:21:34
      updated_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-09-09T14:52:15
      provisioning_status:
        type: string
        enum:
          - PENDING_CREATE
          - PENDING_UPDATE
          - PENDING_DELETE
          - ACTIVE
          - ERROR
        readOnly: true
      project_id:
        type: string
        description: The ID of the project owning this resource.
        example: fa84c217f361441986a220edf9b1e337
        minLength: 32
        maxLength: 32
        x-nullable: true
      status:
        type: string
        enum:
          - ONLINE
          - NO_MONITOR
          - OFFLINE
        readOnly: true
      port:
        type: integer
        description: Port to use for monitor checks.
        example: 80
        minimum: 0
        maximum: 65535
        x-nullabe: true
      address:
        type: string
        description: Address to use. Can also be a domain name.
        example: 1.2.3.4
        x-nullable: true
      pool_id:
        type: string
        format: uuid
        description: pool id.
        x-nullable: true
      datacenter_id:
        type: string
        format: uuid
        description: Datacenter assigned for this member.
        x-nullable: true

  monitor:
    type: object
    properties:
      id:
        type: string
        format: uuid
        description: The id of the resource.
        readOnly: true
      name:
        type: string
        description: Human-readable name of the resource.
        maxLength: 255
        x-nullable: true
      admin_state_up:
        type: boolean
        description: The administrative state of the resource, which is up (true) or down (false). Default is true.
        default: true
        x-nullable: true
      created_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-05-11T17:21:34
      updated_at:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when the resource was created.
        readOnly: true
        example: 2020-09-09T14:52:15
      provisioning_status:
        type: string
        enum:
          - PENDING_CREATE
          - PENDING_UPDATE
          - PENDING_DELETE
          - ACTIVE
          - ERROR
        readOnly: true
      project_id:
        type: string
        description: The ID of the project owning this resource.
        example: fa84c217f361441986a220edf9b1e337
        minLength: 32
        maxLength: 32
        x-nullable: true
      type:
        type: string
        description: Type of the health check monitor.
        default: ICMP
        enum:
          - HTTP
          - HTTPS
          - ICMP
          - TCP
          - UDP
        example: HTTP
        x-nullable: true
      interval:
        type: integer
        description: The interval, in seconds, between health checks.
        example: 10
        minimum: 10
        maximum: 86399
        default: 60
        x-nullable: true
      timeout:
        type: integer
        description: The time in total, in seconds, after which a health check times out.
        example: 30
        minimum: 0
        maximum: 60
        default: 10
        x-nullable: true
      pool_id:
        type: string
        format: uuid
        description: ID of the pool to check members
        x-nullable: true
      send:
        type: string
        description: Specifies the text string that the monitor sends to the target member. For HTTP/S monitors, this is a GET request and must be a HTTP path, e.g. `/status`.
        maxLength: 255
        example: /stats
        x-nullable: true
      receive:
        type: string
        description: Specifies the text string that the monitor expects to receive from the target member.
        maxLength: 255
        example: HTTP/1.
        x-nullable: true
      http_method:
        type: string
        description: HTTP method to use for monitor checks. Only used for HTTP/S monitors.
        enum:
          - GET
          - POST
          - PUT
          - HEAD
          - PATCH
          - DELETE
          - OPTIONS
        default: GET
      domain_name:
        type: string
        description: The domain name, which be injected into the HTTP Host Header to the backend server for HTTP health check. Only used for HTTP/S monitors.
        format: hostname
        example: example.org
        x-nullable: true
        maxLength: 255

  service:
    type: object
    properties:
      id:
        type: string
        description: ID of the RPC service.
        example: andromeda-agent-fbb49979-03f5-4a97-a334-1fd2c9f61e7e
      host:
        type: string
        format: hostname
        example: example.host
        description: Hostname of the computer the service is running.
      type:
        type: string
        example: healthcheck
        description: Type of service.
      provider:
        type: string
        example: akamai
        description: Provider this service supports.
      heartbeat:
        type: string
        format: "date-time"
        description: The UTC date and timestamp when had the last heartbeat.
        example: 2020-05-11 17:21:34
      rpc_address:
        type: string
        description: RPC Endpoint Address.
        example: _INBOX.VEfFxcAzZQ9iM9vwGH49It
      version:
        type: string
        description: Version of the service.
        example: 1.2.3
      metadata:
        type: object

  quota:
    type: object
    properties:
      domain_akamai:
        type: integer
        description: The configured domain quota limit for provider Akamai. A setting of null means it is using the deployment default quota. A setting of -1 means unlimited.
        example: 5
        x-nullable: true
      domain_f5:
        type: integer
        description: The configured domain quota limit for provider F5. A setting of null means it is using the deployment default quota. A setting of -1 means unlimited.
        example: 5
        x-nullable: true
      pool:
        type: integer
        description: The configured pool quota limit. A setting of null means it is using the deployment default quota. A setting of -1 means unlimited.
        example: 5
        x-nullable: true
      member:
        type: integer
        description: The configured member quota limit. A setting of null means it is using the deployment default quota. A setting of -1 means unlimited.
        example: 5
        x-nullable: true
      monitor:
        type: integer
        description: The configured monitor quota limit. A setting of null means it is using the deployment default quota. A setting of -1 means unlimited.
        example: 5
        x-nullable: true
      datacenter:
        type: integer
        description: The configured datacenter quota limit. A setting of null means it is using the deployment default quota. A setting of -1 means unlimited.
        example: 5
        x-nullable: true

  quota_usage:
    type: object
    properties:
      in_use_domain_akamai:
        type: integer
        description: The current quota usage of domain (provider = Akamai).
        example: 5
        x-omitempty: false
      in_use_domain_f5:
        type: integer
        description: The current quota usage of domain (provider = F5).
        example: 5
        x-omitempty: false
      in_use_pool:
        type: integer
        description: The current quota usage of pool.
        example: 5
        x-omitempty: false
      in_use_member:
        type: integer
        description: The current quota usage of member.
        example: 5
        x-omitempty: false
      in_use_monitor:
        type: integer
        description: The current quota usage of monitor.
        example: 5
        x-omitempty: false
      in_use_datacenter:
        type: integer
        description: The current quota usage of datacenter.
        example: 5
        x-omitempty: false

  error:
    type: object
    properties:
      message:
        type: string
        example: An example error message
      code:
        description: HTTP Error code
        example: 404
        type: integer

  link:
    type: object
    readOnly: true
    properties:
      href:
        type: string
        format: uri
      rel:
        type: string
        enum:
          - next
          - previous

tags:
  - name: Domains
    description: Domains are the highest level of entities defining DNS endpoints to be load balanced.
  - name: Pools
    description: Pools are logical collections of datacenters hosting target applications.
  - name: Datacenters
    description: Datacenter are collections of Members that share the same geographical location.
  - name: Members
    description: Members are IP/Port endpoints of the applications to be load balanced.
  - name: Monitors
    description: Monitors are health checks that influce load balancing decisions.
  - name: Administrative
    description: Administrative API